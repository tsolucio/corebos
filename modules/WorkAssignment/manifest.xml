<?xml version='1.0'?>
<module>
  <name>WorkAssignment</name>
  <label>WorkAssignment</label>
  <parent>Tools</parent>
  <version>0.1</version>
  <short_description>A corebos module that lets you create Work Assignments (on location) for users.</short_description>
  <dependencies>
    <vtiger_version>5.4.0</vtiger_version>
    <vtiger_max_version>8.*</vtiger_max_version>
  </dependencies>
  <license>
    <inline><![CDATA[
      *************************************************************************************************
      *
      *  Please consider supporting our effort. We have many services available and we accept donations :-)
      *
      *    Thanks to the community for supporting this vtiger CRM module.
      *
      *************************************************************************************************
      * Copyright 2020 MajorLabel  --  This file is a part of vtiger CRM Inventory Extension.
      * You can copy, adapt and distribute the work under the "Attribution-NonCommercial-ShareAlike"
      * Vizsage Public License (the "License"). You may not use this file except in compliance with the
      * License. Roughly speaking, non-commercial users may share and modify this code, but must give credit
      * and share improvements. However, for proper details please read the full License, available at
      * https://corebos.com/documentation/doku.php?id=en:devel:vizsage and the handy reference for 
      * understanding the full license at https://corebos.com/documentation/doku.php?id=en:devel:vizsage.
      * Unless required by applicable law or agreed to in writing, any software distributed under the
      * License is distributed on an  "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
      * either express or implied. See the License for the specific language governing permissions and 
      * limitations under the License terms of Creative Commons Attribution-NonCommercial-ShareAlike 3.0
      * (the License).
      *************************************************************************************************
      *  Module       : WorkAssignment
      *  Version      : 0.1
      *  Author       : MajorLabel
      *************************************************************************************************
      ]]></inline>
    </license>
    <tables>
      <table>
        <name>vtiger_workassignment</name>
        <sql><![CDATA[CREATE TABLE `vtiger_workassignment` (
          `workassignmentid` INT(11) NOT NULL,
          `workassignment_no` VARCHAR(56) default NULL,
          `workassignmentname` VARCHAR(100) NOT NULL,
          `startdate` DATE NOT NULL,
          `enddate` DATE DEFAULT NULL,
          `account_id` INT(11) NOT NULL,
          `contact_id` INT(11) DEFAULT NULL,
          `salesorder` INT(11) NOT NULL,
          `wastatus` VARCHAR(100) DEFAULT NULL,
          PRIMARY KEY (`workassignmentid`)
          ) ENGINE=InnoDB DEFAULT CHARSET=utf8]]></sql>
        </table>
        <table>
          <name>vtiger_workassignmentcf</name>
          <sql><![CDATA[CREATE TABLE `vtiger_workassignmentcf` (
            `workassignmentid` INT(11) NOT NULL,
            PRIMARY KEY (`workassignmentid`)
            ) ENGINE=InnoDB DEFAULT CHARSET=utf8]]></sql>
          </table>
        </tables>
        <blocks>
          <block>
            <label>LBL_WORKASSIGNMENT_INFORMATION</label>
            <fields>
              <field>
                <fieldname>workassignment_no</fieldname>
                <uitype>4</uitype>
                <columnname>workassignment_no</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>workassignment_no</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>1</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>V~M</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
                <entityidentifier>
                  <entityidfield>workassignmentid</entityidfield>
                  <entityidcolumn>workassignmentid</entityidcolumn>
                </entityidentifier>
              </field>
              <field>
                <fieldname>workassignmentname</fieldname>
                <uitype>1</uitype>
                <columnname>workassignmentname</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>workassignmentname</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>2</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>V~M</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
              <field>
                <fieldname>startdate</fieldname>
                <uitype>5</uitype>
                <columnname>startdate</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>startdate</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>3</sequence>
                <typeofdata>D~M</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
              <field>
                <fieldname>enddate</fieldname>
                <uitype>5</uitype>
                <columnname>enddate</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>enddate</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>4</sequence>
                <typeofdata>D~O~OTH~GE~startdate</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
              <field>
                <fieldname>account_id</fieldname>
                <uitype>10</uitype>
                <columnname>account_id</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>account_id</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>5</sequence>
                <typeofdata>I~M</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
                <relatedmodules>
                  <relatedmodule>Accounts</relatedmodule>
                </relatedmodules>
              </field>
              <field>
                <fieldname>contact_id</fieldname>
                <uitype>10</uitype>
                <columnname>contact_id</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>contact_id</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>6</sequence>
                <typeofdata>I~O</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
                <relatedmodules>
                  <relatedmodule>Contacts</relatedmodule>
                </relatedmodules>
              </field>
              <field>
                <fieldname>salesorder</fieldname>
                <uitype>10</uitype>
                <columnname>salesorder</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>salesorder</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>7</sequence>
                <typeofdata>I~M</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
                <relatedmodules>
                  <relatedmodule>SalesOrder</relatedmodule>
                </relatedmodules>
              </field>
              <field>
                <fieldname>wastatus</fieldname>
                <uitype>16</uitype>
                <columnname>wastatus</columnname>
                <tablename>vtiger_workassignment</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>wastatus</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>8</sequence>
                <typeofdata>V~O</typeofdata>
                <quickcreate>0</quickcreate>
                <quickcreatesequence>0</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
                <picklistvalues>
                  <picklistvalue>--None--</picklistvalue>
                  <picklistvalue>Created</picklistvalue>
                  <picklistvalue>Planned</picklistvalue>
                  <picklistvalue>In progress</picklistvalue>
                  <picklistvalue>Partially completed</picklistvalue>
                  <picklistvalue>Completed</picklistvalue>
                  <picklistvalue>Cancelled</picklistvalue>
                </picklistvalues>
              </field>
              <field>
                <fieldname>assigned_user_id</fieldname>
                <uitype>53</uitype>
                <columnname>smownerid</columnname>
                <tablename>vtiger_crmentity</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>Assigned To</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>10</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>V~M</typeofdata>
                <quickcreate>1</quickcreate>
                <quickcreatesequence>1</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>1</masseditable>
              </field>
              <field>
                <fieldname>created_user_id</fieldname>
                <uitype>52</uitype>
                <columnname>smcreatorid</columnname>
                <tablename>vtiger_crmentity</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>Created By</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>11</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>V~O</typeofdata>
                <quickcreate>3</quickcreate>
                <quickcreatesequence>1</quickcreatesequence>
                <displaytype>2</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
              <field>
                <fieldname>createdtime</fieldname>
                <uitype>70</uitype>
                <columnname>createdtime</columnname>
                <tablename>vtiger_crmentity</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>Created Time</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>12</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>DT~O</typeofdata>
                <quickcreate>3</quickcreate>
                <quickcreatesequence>8</quickcreatesequence>
                <displaytype>2</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
              <field>
                <fieldname>modifiedtime</fieldname>
                <uitype>70</uitype>
                <columnname>modifiedtime</columnname>
                <tablename>vtiger_crmentity</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>Modified Time</fieldlabel>
                <readonly>1</readonly>
                <presence>0</presence>
                <selected>0</selected>
                <sequence>13</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>DT~O</typeofdata>
                <quickcreate>3</quickcreate>
                <quickcreatesequence>9</quickcreatesequence>
                <displaytype>2</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>0</masseditable>
              </field>
            </fields>
          </block>
          <block>
            <label>LBL_DESCRIPTION_INFORMATION</label>
            <fields>
              <field>
                <fieldname>description</fieldname>
                <uitype>19</uitype>
                <columnname>description</columnname>
                <tablename>vtiger_crmentity</tablename>
                <generatedtype>1</generatedtype>
                <fieldlabel>Description</fieldlabel>
                <readonly>1</readonly>
                <presence>2</presence>
                <selected>0</selected>
                <sequence>1</sequence>
                <maximumlength>100</maximumlength>
                <typeofdata>V~O</typeofdata>
                <quickcreate>1</quickcreate>
                <quickcreatesequence>10</quickcreatesequence>
                <displaytype>1</displaytype>
                <info_type>BAS</info_type>
                <helpinfo><![CDATA[]]></helpinfo>
                <masseditable>1</masseditable>
              </field>
            </fields>
          </block>
        </blocks>
        <customviews>
          <customview>
            <viewname>All</viewname>
            <setdefault>false</setdefault>
            <setmetrics>false</setmetrics>
            <fields>
              <field>
                <fieldname>workassignment_no</fieldname>
                <columnindex>0</columnindex>
              </field>
              <field>
                <fieldname>workassignmentname</fieldname>
                <columnindex>1</columnindex>
              </field>
              <field>
                <fieldname>startdate</fieldname>
                <columnindex>2</columnindex>
              </field>
              <field>
                <fieldname>enddate</fieldname>
                <columnindex>3</columnindex>
              </field>
              <field>
                <fieldname>account_id</fieldname>
                <columnindex>4</columnindex>
              </field>
              <field>
                <fieldname>contact_id</fieldname>
                <columnindex>5</columnindex>
              </field>
              <field>
                <fieldname>salesorder</fieldname>
                <columnindex>6</columnindex>
              </field>
              <field>
                <fieldname>wastatus</fieldname>
                <columnindex>7</columnindex>
              </field>
            </fields>
          </customview>
        </customviews>
        <sharingaccess>
          <default>public_readwritedelete</default>
        </sharingaccess>
        <actions>
          <action>
            <name><![CDATA[Merge]]></name>
            <status>enabled</status>
          </action>
          <action>
            <name><![CDATA[Import]]></name>
            <status>enabled</status>
          </action>
          <action>
            <name><![CDATA[Export]]></name>
            <status>enabled</status>
          </action>
        </actions>
        <relatedlists>
          <relatedlist>
            <function>get_dependents_list</function>
            <label>WorkAssignmentLines</label>
            <sequence>0</sequence>
            <presence>0</presence>
            <relatedmodule>WorkAssignmentLines</relatedmodule>
            <actions></actions>
          </relatedlist>
          <relatedlist>
            <function>get_related_list</function>
            <label>Assigned Users</label>
            <sequence>1</sequence>
            <presence>0</presence>
            <relatedmodule>Users</relatedmodule>
            <actions>
              <action>SELECT</action>
            </actions>
          </relatedlist>
        </relatedlists>
        <events>
          <event>
            <eventname>vtiger.entity.aftersave</eventname>
            <classname>handleWorkAssignmentLines</classname>
            <filename>modules/WorkAssignment/handleWorkAssignmentLines.php</filename>
            <condition><![CDATA[moduleName in ['WorkAssignment']]]></condition>
          </event>
        </events>
        <customlinks>
        <customlink>
          <linktype>DETAILVIEWWIDGET</linktype>
          <linklabel>WorkAssignmentLinesBlock</linklabel>
          <linkurl><![CDATA[block://WorkAssignmentLinesBlock:modules/WorkAssignment/WorkAssignmentLinesBlock.php]]></linkurl>
          <linkicon><![CDATA[]]></linkicon>
          <sequence>0</sequence>
          <handler_path><![CDATA[]]></handler_path>
          <handler_class><![CDATA[]]></handler_class>
          <handler><![CDATA[]]></handler>
        </customlink>
          <customlink>
            <linktype>EDITVIEWWIDGET</linktype>
            <linklabel>WorkAssignmentLinesBlock</linklabel>
            <linkurl><![CDATA[block://WorkAssignmentLinesBlock:modules/WorkAssignment/WorkAssignmentLinesBlock.php]]></linkurl>
            <linkicon><![CDATA[]]></linkicon>
            <sequence>0</sequence>
            <handler_path><![CDATA[]]></handler_path>
            <handler_class><![CDATA[]]></handler_class>
            <handler><![CDATA[]]></handler>
          </customlink>
        </customlinks>
        <crons>
        </crons>
      </module>
