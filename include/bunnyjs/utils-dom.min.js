function ready(n){"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",function(){n()})}function addEvent(n,e,t){return void 0===n.__bunny_event_handlers&&(n.__bunny_event_handlers={handlers:{},counter:0}),n.__bunny_event_handlers.handlers[n.__bunny_event_handlers.counter]=t,n.addEventListener(e,n.__bunny_event_handlers.handlers[n.__bunny_event_handlers.counter]),n.__bunny_event_handlers.counter++,n.__bunny_event_handlers.counter-1}function removeEvent(n,e,t){return void 0!==n.__bunny_event_handlers&&void 0!==n.__bunny_event_handlers.handlers[t]&&(n.removeEventListener(e,n.__bunny_event_handlers.handlers[t]),delete n.__bunny_event_handlers.handlers[t]),null}function addEventOnce(n,e,t){var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,o=0;return addEvent(n,e,function(n){clearTimeout(o),o=setTimeout(function(){t(n)},_)})}function isEventCursorInside(n,e){var t=e.getBoundingClientRect();return n.clientX>t.left&&n.clientX<t.right&&n.clientY>t.top&&n.clientY<t.bottom}function onClickOutside(n,e){void 0===document.__bunny_core_outside_callbacks&&(document.__bunny_core_outside_callbacks=[]);var t=function(t){t.target===n||n.contains(t.target)||e(t)};return void 0===n.__bunny_core_outside_callbacks&&(n.__bunny_core_outside_callbacks=[]),n.__bunny_core_outside_callbacks.push(t),document.__bunny_core_outside_callbacks.push(t),void 0===document.__bunny_core_outside_handler&&(document.__bunny_core_outside_handler=function(n){document.__bunny_core_outside_callbacks.forEach(function(e){e(n)})},document.addEventListener("click",document.__bunny_core_outside_handler),document.addEventListener("touchstart",document.__bunny_core_outside_handler)),t}function removeClickOutside(n,e){if(void 0!==document.__bunny_core_outside_callbacks){var t=document.__bunny_core_outside_callbacks.indexOf(e);t!==-1&&(document.__bunny_core_outside_callbacks.splice(t,1),0===document.__bunny_core_outside_callbacks.length&&(document.removeEventListener("click",document.__bunny_core_outside_handler),document.removeEventListener("touchstart",document.__bunny_core_outside_handler),delete document.__bunny_core_outside_handler))}if(void 0!==n.__bunny_core_outside_callbacks){var _=n.__bunny_core_outside_callbacks.indexOf(e);_!==-1&&n.__bunny_core_outside_callbacks.splice(_,1)}}function addEventKeyNavigation(n,e,t){for(var _=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=null,r=0;r<e.length;r++)if(e[r].hasAttribute("aria-selected")){o=r;break}var d=function(){e[o].focus(),null!==_&&_(e[o])},u=function(){},i=function(n){var _=n.keyCode,r=e.length-1;_===KEY_ENTER||_===KEY_SPACE?(n.preventDefault(),t(null!==o?e[o]:null)):_===KEY_ESCAPE?(n.preventDefault(),t(!1)):_===KEY_ARROW_UP||_===KEY_ARROW_LEFT?(n.preventDefault(),null!==o&&o>0&&(u(),o-=1,d())):_!==KEY_ARROW_DOWN&&_!==KEY_ARROW_RIGHT||(n.preventDefault(),null===o?(o=0,d()):o<r&&(u(),o+=1,d()))};return n.addEventListener("keydown",i),i}function removeEventKeyNavigation(n,e){n.removeEventListener("keydown",e)}function htmlToNode(n){var e=document.createElement("div");return e.innerHTML=n,e.firstElementChild}function appendHtml(n,e){n.appendChild(htmlToNode(e))}function parseTemplate(n,e){var t=null,_=document.getElementById(n),o=_.content.firstElementChild.outerHTML,r=function(n,e){return e.split(".").reduce(function(n,e){return n?n[e]:void 0},n)},d=function(n,e){var t=n;t=t.replace(/{{ ([a-zA-Z._]*) }}/g,function(n,t){var _=r(e,t);return void 0===_?n:_});var o=htmlToNode(t);if("TABLE"===o.tagName&&(o=o.rows[0]),void 0!==_._handlers)for(var d in _._handlers){var u=o.querySelector('[handler="'+d+'"]');_._handlers[d](u)}return o};return Array.isArray(e)?(t=document.createDocumentFragment(),e.forEach(function(n){t.appendChild(d(o,n))})):t=d(o,e),t}function registerTemplateHandlers(n,e){var t=document.getElementById(n);void 0===t._handlers&&(t._handlers={}),Object.assign(t._handlers,e)}function makeAccessible(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"button";n.setAttribute("tabindex",e),n.setAttribute("role",t),n.addEventListener("keydown",function(e){e.keyCode!==KEY_ENTER&&e.keyCode!==KEY_SPACE||n.click()})}function isElementInside(n,e){for(var t=e;t=t.parentElement;)if(t===n)return!0;return!1}!function(){window.KEY_BACKSPACE=8,window.KEY_TAB=9,window.KEY_ENTER=13,window.KEY_SHIFT=16,window.KEY_CTRL=17,window.KEY_ALT=18,window.KEY_ESCAPE=27,window.KEY_SPACE=32,window.KEY_PAGE_UP=33,window.KEY_PAGE_DOWN=34,window.KEY_ARROW_LEFT=37,window.KEY_ARROW_UP=38,window.KEY_ARROW_RIGHT=39,window.KEY_ARROW_DOWN=40,window.KEY_DELETE=46}();