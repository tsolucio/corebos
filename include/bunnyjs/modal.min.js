var ModalConfig={tagName:"modal",tagNameBackdrop:"fade",tagNameCloser:"button",classNameShow:"show",classNameCloser:"close",classNameSlideOut:"slide-top",classNameSlideIn:"slide-in-bottom",classNameFadeOut:"fade-out",classNameFadeIn:"fade-in",classNameBodyNoScroll:"no-scroll",attrDataTarget:"data-target"},ModalUI={Config:ModalConfig,getAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.getElementsByTagName(this.Config.tagName)||!1},getCloser:function(e){return e.getElementsByClassName(this.Config.classNameCloser)[0]||!1},createBackdrop:function(){return document.createElement(this.Config.tagNameBackdrop)},wrapBackdropAroundModal:function(e){var t=this.createBackdrop();t.classList.add(this.Config.classNameFadeIn);var o=e.parentNode;o.insertBefore(t,e),t.appendChild(e)},unwrapBackdropFromModal:function(e){var t=e.parentNode;t.classList.add(this.Config.classNameFadeOut),t.addEventListener("animationend",function(){var o=t.parentNode;o.insertBefore(e,t),o.removeChild(t)})},getToggleBtn:function(e){var t=e.id;return!!t&&(document.querySelector('[data-target="'+t+'"]')||!1)},show:function(e,t){e.setAttribute("tabindex",0),e.__prev_focused=t,document.body.classList.add(this.Config.classNameBodyNoScroll),e.classList.add(this.Config.classNameShow),e.classList.add(this.Config.classNameSlideIn),this.wrapBackdropAroundModal(e),setTimeout(function(){e.focus()},0)},hide:function(e){var t=this;e.removeAttribute("tabindex"),e.__prev_focused.focus(),delete e.__prev_focused,e.classList.add(this.Config.classNameSlideOut),this.unwrapBackdropFromModal(e);var o=function o(){e.classList.remove(t.Config.classNameShow),e.classList.remove(t.Config.classNameSlideIn),e.classList.remove(t.Config.classNameSlideOut),document.body.classList.remove(t.Config.classNameBodyNoScroll),e.removeEventListener("animationend",o)};e.addEventListener("animationend",o)}},Modal={Config:ModalConfig,UI:ModalUI,init:function(e){this.addEvents(e)},initAll:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;[].forEach.call(this.UI.getAll(t),function(t){e.init(t)})},addEvents:function(e){var t=this.UI.getToggleBtn(e);t&&(e.__click_toggler=addEvent(t,"click",this.handlerShow.bind(this,e)))},handlerShow:function(e,t){var o=this,i=this.UI.getToggleBtn(e);i&&(removeEvent(i,"click",e.__click_toggler),delete e.__click_toggler);var n=this.UI.getCloser(e);n&&(e.__click_closer=addEvent(n,"click",this.handlerHide.bind(this,e))),this.UI.show(e,t.target),setTimeout(function(){e.__click_outside=onClickOutside(e,o.handlerHide.bind(o,e))},100),void 0!==e.__on_show&&e.__on_show.forEach(function(e){return e()})},handlerHide:function(e){var t=this.UI.getToggleBtn(e);t&&(e.__click_toggler=addEvent(t,"click",this.handlerShow.bind(this,e)));var o=this.UI.getCloser(e);o&&(removeEvent(o,"click",e.__click_closer),delete e.__click_closer),this.UI.hide(e),removeClickOutside(e,e.__click_outside),delete e.__click_outside,void 0!==e.__on_hide&&e.__on_hide.forEach(function(e){return e()})},show:function(e){this.handlerShow(e,{target:document.activeElement})},hide:function(e){this.handlerHide(e)},onShow:function(e,t){void 0===e.__on_show&&(e.__on_show=[]),e.__on_show.push(t)},onHide:function(e,t){void 0===e.__on_hide&&(e.__on_hide=[]),e.__on_hide.push(t)}};document.addEventListener("DOMContentLoaded",function(){Modal.initAll()});